<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>个人图库 · 过去的记忆</title>
    <meta name="author" content="滄海水魚">
    <meta name="description" content="个人图库-过去的记忆">
    <link rel="manifest" href="/manifest.json">
    <link rel="icon" href="/img/shell/favicon.ico" type="image/x-icon">
    <link rel="preload" href="/img/shell/favicon.ico" as="image" type="image/x-icon">
    <link rel="preload" href="/img/shell/shuiyu.avif" as="image" type="image/avif">
    <link rel="preload" href="/img/shell/bg.jpg" as="image" type="image/jpeg">
    <link rel="preload" href="/css/variables.css" as="style">
    <link rel="preload" href="/font/FluentSystemIcons-Regular.woff2" as="font" type="font/woff2" crossorigin>

    <link rel="stylesheet" href="/css/variables.css">
    <link rel="stylesheet" href="/css/input.css">
    <link rel="stylesheet" href="/css/header.css">
    <link rel="stylesheet" href="/css/sidebar.css">
    <link rel="stylesheet" href="/css/main-content.css">
    <link rel="stylesheet" href="/css/footer.css">
    <link rel="stylesheet" href="/css/lightbox.css">
    <link rel="stylesheet" href="/css/settings-modal.css">
    <link rel="stylesheet" href="/css/scroll-to-top.css">
    <link rel="stylesheet" href="/css/column.css">
    <link rel="stylesheet" href="/font/FluentSystemIcons-Regular.css">

    <script src="/js/pwa/register-sw.js" defer></script>
    <script src="/js/theme.js" defer></script>
    <script src="/js/language.js" defer></script>
    <script src="/js/sidebar.js" defer></script>
    <script src="/js/lightbox.js" defer></script>
    <script src="/js/avatar.js" defer></script>
    <script src="/js/scroll-to-top.js" defer></script>
    <script src="/js/search.js" defer></script>
    <script src="/js/spa-router.js" defer></script>
    <script src="/js/settings-modal.js" defer></script>
</head>
<body>
    <div id="shell-root"></div>
    <script>
        (function(){
            var container = document.getElementById('shell-root');
            var inlineShell = `<!-- Shared shell: header, sidebar, aside, footer -->
<!-- 模块：全站壳层 / Shared shell (header, sidebar, footer). 保留导航与动画。 -->
<header>
    <h1>
        <span class="header-title">
            <a href="/" title="主页">
                <img src="/img/shell/favicon.ico" alt="logo" class="logo" fetchpriority="high">
                <span class="title-text">主页</span>
            </a>
            <span id="page-loading-indicator" class="page-loading-indicator" aria-hidden="true"></span>
        </span>
        <div class="header-actions">
            <button class="header-search-btn" id="header-search-btn" aria-label="搜索" title="搜索">
                <i class="icon-ic_fluent_search_24_regular" aria-hidden="true"></i>
            </button>
            <button class="theme-toggle-btn" aria-label="切换深色/浅色模式" title="切换深色/浅色模式">
                <i class="fluent-font" aria-hidden="true">&#xF87E;</i>
            </button>
            <div class="theme-settings-container">
                <button class="theme-settings-btn" aria-label="设置" title="设置">
                    <i class="fluent-font" aria-hidden="true">&#xF6AA;</i>
                </button>
            </div>
            <div class="language-selector-container">
                <button class="language-selector-btn" aria-label="选择语言" title="选择语言">
                    <i class="fluent-font" aria-hidden="true">&#xF45B;</i>
                </button>
                <div class="language-selector-menu">
                    <label class="language-option">
                        <input type="radio" name="language" value="zh-CN" aria-label="中文（简体）">
                        <span>中文（简体）</span>
                    </label>
                    <label class="language-option">
                        <input type="radio" name="language" value="zh-TW" aria-label="中文（繁体）">
                        <span>中文（繁体）</span>
                    </label>
                    <label class="language-option">
                        <input type="radio" name="language" value="en-US" aria-label="English (US)">
                        <span>English (US)</span>
                    </label>
                    <!-- English (Global) removed -->
                    <label class="language-option">
                        <input type="radio" name="language" value="ru-RU" aria-label="Русский">
                        <span>Русский</span>
                    </label>
                    <label class="language-option">
                        <input type="radio" name="language" value="fr-FR" aria-label="Français">
                        <span>Français</span>
                    </label>
                    <label class="language-option">
                        <input type="radio" name="language" value="de-DE" aria-label="Deutsch">
                        <span>Deutsch</span>
                    </label>
                    <label class="language-option">
                        <input type="radio" name="language" value="ja-JP" aria-label="日本語">
                        <span>日本語</span>
                    </label>
                </div>
            </div>
            <img src="/img/shell/shuiyu.avif" alt="shuiyu" class="header-avatar" id="avatar-btn" fetchpriority="high">
            <div id="avatar-links-menu" class="avatar-links-menu">
                <a href="https://github.com/whwdzg" class="avatar-link" target="_blank" rel="noopener noreferrer">
                    <i class="icon-ic_fluent_animal_cat_24_regular" aria-hidden="true"></i>
                    <span>GitHub</span>
                </a>
                <a href="https://space.bilibili.com/588003657" class="avatar-link" target="_blank" rel="noopener noreferrer">
                    <i class="icon-ic_fluent_tv_24_regular" aria-hidden="true"></i>
                    <span>bilibili</span>
                </a>
            </div>
        </div>
    </h1>
</header>
<nav id="sidebar" class="sidebar" aria-label="主导航">
    <button class="sidebar-collapse-btn inner-sidebar-collapse-btn" aria-controls="sidebar" aria-expanded="true" title="折叠/展开侧边栏">
        <i class="icon-ic_fluent_list_24_regular item-icon" aria-hidden="true"></i>
    </button>
    <ul>
        <li>
            <a href="/">
                <i class="icon-ic_fluent_home_24_regular item-icon" aria-hidden="true"></i>
                <span class="label">主页</span>
            </a>
        </li>
        <li class="has-children">
            <button class="toggle" aria-expanded="false">
                <i class="icon-ic_fluent_history_24_regular item-icon" aria-hidden="true"></i>
                <span class="toggle-label">返回 1.0</span>
                <span class="toggle-icon fluent-font" aria-hidden="true">&#xF2B1;</span>
            </button>
            <ul class="submenu">
                <li>
                    <a href="/Legacy-1.0/index.html">
                        <i class="icon-ic_fluent_home_24_regular item-icon" aria-hidden="true"></i>
                        <span class="label">主页（1.0）</span>
                    </a>
                </li>
                <li>
                    <a href="/Legacy-1.0/about.html">
                        <i class="icon-ic_fluent_info_24_regular item-icon" aria-hidden="true"></i>
                        <span class="label">关于（1.0）</span>
                    </a>
                </li>
                <li>
                    <a href="/Legacy-1.0/README.md">
                        <i class="icon-ic_fluent_document_24_regular item-icon" aria-hidden="true"></i>
                        <span class="label">README（1.0）</span>
                    </a>
                </li>
            </ul>
        </li>
        <li class="has-children">
            <button class="toggle" aria-expanded="false">
                <i class="icon-ic_fluent_apps_list_24_regular item-icon" aria-hidden="true"></i>
                <span class="toggle-label">专栏</span>
                <span class="toggle-icon fluent-font" aria-hidden="true">&#xF2B1;</span>
            </button>
            <ul class="submenu">
                <li>
                    <a href="/column/psn-img-legacy.html">
                        <i class="icon-ic_fluent_image_24_regular item-icon" aria-hidden="true"></i>
                        <span class="label">个人图库</span>
                    </a>
                </li>
                <li>
                    <a href="/column/comments.html">
                        <i class="icon-ic_fluent_comment_24_regular item-icon" aria-hidden="true"></i>
                        <span class="label">评论发癫区</span>
                    </a>
                </li>
            </ul>
        </li>
        <li class="has-children">
            <button class="toggle" aria-expanded="false">
                <i class="icon-ic_fluent_tv_24_regular item-icon" aria-hidden="true"></i>
                <span class="toggle-label">视频存档</span>
                <span class="toggle-icon fluent-font" aria-hidden="true">&#xF2B1;</span>
            </button>
            <ul class="submenu">
                <li>
                    <a href="/video-archive/list-bilivideo-1.html">
                        <i class="icon-ic_fluent_channel_share_24_regular item-icon" aria-hidden="true"></i>
                        <span class="label">哔哩哔哩</span>
                    </a>
                </li>
            </ul>
        </li>
        <li>
            <a href="/about.html">
                    <i class="icon-ic_fluent_info_24_regular item-icon" aria-hidden="true"></i>
                    <span class="label">关于</span>
            </a>
        </li>
    </ul>
</nav>
<button id="scroll-to-top" class="scroll-to-top" aria-label="返回顶部" title="返回顶部">
    <i class="icon-ic_fluent_arrow_up_24_regular item-icon" aria-hidden="true"></i>
</button>
<aside>
    <section id="beta">
        <h3>注意</h3>
        <p>
            <strong>当前为早期测试版本，可能出现bug</strong>
        </p>
    </section>
    <section id="archives">
        <h3>返回1.0主页</h3>
        <p>
            <abbr title="1.3.12.2025.8.7-New_MusicPlayer">1.0版本</abbr>已终止更新
            <br>
            <a href="/Legacy-1.0/index.html" title="返回1.0版本主页">返回1.0主页</a>
        </p>
    </section>
</aside>
<footer>
    <p>&copy; 2022-2026 滄海水魚. 保留所有权利。</p>
    <p>当前版本：<strong>2.0.2.5-20260106</strong></p>
</footer>`;

            function normalize(pathname) {
                var p = pathname.replace(/\/index\.html$/i, '/').replace(/\.html$/i, '').replace(/\/+$/, '');
                return p === '' ? '/' : p;
            }

            function markCurrentNav() {
                var current = normalize(location.pathname);
                document.querySelectorAll('#sidebar a[href]').forEach(function(a){
                    var href = a.getAttribute('href');
                    if (!href) return;
                    var target = normalize(new URL(href, location.origin).pathname);
                    if (target === current) {
                        a.classList.add('current','selected');
                        var parent = a.closest('.has-children');
                        if (parent) {
                            parent.classList.add('open');
                            var toggle = parent.querySelector('.toggle');
                            var submenu = parent.querySelector('.submenu');
                            if (toggle) toggle.setAttribute('aria-expanded','true');
                            if (submenu) submenu.style.maxHeight = submenu.scrollHeight + 'px';
                        }
                    }
                });
            }

            function attachShell(html) {
                if (!container || !html) return;
                container.innerHTML = html;
                var move = function() {
                    var main = document.querySelector('main');
                    if (!main) return;
                    var aside = container.querySelector('aside');
                    var footer = container.querySelector('footer');
                    if (aside && !main.contains(aside)) {
                        aside.setAttribute('data-shell-moved', '1');
                        main.appendChild(aside);
                    }
                    if (footer && footer.parentNode !== main.parentNode) {
                        footer.setAttribute('data-shell-moved', '1');
                        main.insertAdjacentElement('afterend', footer);
                    }
                    if (window.refreshAsideStack) {
                        window.refreshAsideStack();
                    }
                    markCurrentNav();
                };
                if (document.readyState === 'loading') {
                    document.addEventListener('DOMContentLoaded', move, { once: true });
                } else {
                    move();
                }
            }

            function bust(url){
                if (location.protocol === 'file:') return url;
                var sep = url.indexOf('?') === -1 ? '?' : '&';
                return url + sep + 'ts=' + Date.now();
            }

            try {
                var xhr = new XMLHttpRequest();
                xhr.open('GET', bust('/includes/shell.html'), false);
                xhr.send(null);
                if (xhr.status === 200 || xhr.status === 0) {
                    attachShell(xhr.responseText);
                    return;
                }
            } catch (e) {}

            fetch(bust('/includes/shell.html'), { cache: 'no-store' })
                .then(function(resp){ return resp.ok ? resp.text() : Promise.reject(new Error('HTTP '+resp.status)); })
                .then(function(html){ attachShell(html); })
                .catch(function(){ attachShell(inlineShell); });
        })();
    </script>

    <main>
        <div class="column-stack">
            <section class="article-card">
                <p class="eyebrow">专栏</p>
                <h1>个人图库 · 过去的记忆</h1>
                <p class="article-subtitle">堆放一些奇奇怪怪的东西，已经埋藏于记忆中的片段。</p>
                <div class="article-meta">
                    <span class="pill"><i class="icon-ic_fluent_person_24_regular" aria-hidden="true"></i>滄海水魚</span>
                    <span class="pill"><i class="icon-ic_fluent_calendar_ltr_24_regular" aria-hidden="true"></i>2024-02-10</span>
                    <span class="pill"><i class="icon-ic_fluent_arrow_clockwise_20_regular" aria-hidden="true"></i>更新：2024-11-26</span>
                </div>
                <div class="article-actions">
                    <a href="https://space.bilibili.com/588003657" target="_blank" rel="noopener noreferrer">作者主页</a>
                    <a href="/column/comments.html">下一篇：评论发癫区</a>
                </div>
            </section>

            <section class="article-card">
                <h2>图库</h2>
                <div class="gallery-grid">
                    <figure>
                        <video controls preload="metadata" aria-label="阉割美声">
                            <source src="/img/column/psn-img-legacy/sxy.mp4" type="video/mp4">
                            您的浏览器不支持 video 标签。
                        </video>
                        <figcaption>阉割美声</figcaption>
                    </figure>
                    <figure>
                        <img src="/img/column/psn-img-legacy/4.jpg" alt="纪念阉割" loading="lazy">
                        <figcaption>纪念阉割</figcaption>
                    </figure>
                    <figure>
                        <img src="/img/column/psn-img-legacy/1.jpg" alt="旧日一" loading="lazy">
                        <figcaption>某个被截取的瞬间</figcaption>
                    </figure>
                    <figure>
                        <img src="/img/column/psn-img-legacy/2.jpg" alt="旧日二" loading="lazy">
                        <figcaption>记忆中的另一个角落</figcaption>
                    </figure>
                    <figure class="folded collapsed" data-folded>
                        <div class="folded-media">
                            <img src="/img/column/psn-img-legacy/3.jpg" alt="隐藏图片" loading="lazy">
                        </div>
                        <figcaption>当前图片已隐藏，点击查看</figcaption>
                    </figure>
                    <figure>
                        <img src="/img/column/psn-img-legacy/hesy.jpg" alt="HESY 2024" loading="lazy">
                        <figcaption>HESY 2024</figcaption>
                    </figure>
                </div>
            </section>

            <section class="article-card">
                <h2>留言方式</h2>
                <p>静态网站无法直接写入评论，如想留言，请点击侧边栏头像或下方按钮，通过 bilibili 私信把想说的话告诉我，我会择期手动更新。</p>
                <div class="article-actions">
                    <a href="https://message.bilibili.com/#/whisper/mid588003657" target="_blank" rel="noopener noreferrer">通过 bilibili 发送私信</a>
                </div>
            </section>

            <section class="article-card">
                <h2>留言摘录</h2>
                <p>以下为人工汇总的片段，原话保留。</p>
                <div class="comment-list">
                    <div class="comment-card">
                        <img src="/img/head/hxhej.avif" alt="hx_hej头像" loading="lazy">
                        <div>
                            <p class="comment-author">hx_hej</p>
                            <p class="comment-date">2024-03-07</p>
                        </div>
                        <p class="comment-text">我啥也不知道。</p>
                    </div>
                    <div class="comment-card">
                        <img src="/img/head/shuiyu.avif" alt="滄海水魚头像" loading="lazy">
                        <div>
                            <p class="comment-author">滄海水魚</p>
                            <p class="comment-date">2024-03-28</p>
                        </div>
                        <p class="comment-text">哈哈哈，jyf 我笑死。</p>
                    </div>
                </div>
            </section>

            <section class="article-card">
                <h2>目录与跳转</h2>
                <div class="article-actions">
                    <a aria-current="page" href="/column/psn-img-legacy.html">个人图库-过去的记忆</a>
                    <a href="/column/comments.html">评论发癫区</a>
                    <a href="https://www.bilibili.com/opus/968748900391321609/" target="_blank" rel="noopener noreferrer">海绵宝宝 add-on</a>
                </div>
            </section>
        </div>
    </main>
        <script>
            (function(){
                document.querySelectorAll('[data-folded]').forEach(function(fig){
                    var media = fig.querySelector('.folded-media');
                    if (!media) return;
                    var toggle = function(){
                        var isCollapsed = fig.classList.toggle('collapsed');
                        if (!isCollapsed) {
                            media.style.maxHeight = media.scrollHeight + 'px';
                        } else {
                            media.style.maxHeight = '';
                        }
                    };
                    fig.addEventListener('click', toggle);
                    fig.addEventListener('keydown', function(e){
                        if (e.key === 'Enter' || e.key === ' ') {
                            e.preventDefault();
                            toggle();
                        }
                    });
                    fig.setAttribute('role','button');
                    fig.setAttribute('tabindex','0');
                    fig.setAttribute('aria-expanded','false');
                });
            })();
        </script>
</body>
</html>
