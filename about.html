<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>关于本站</title>
    <meta name="author" content="whwdzg">
    <meta name="description" content="whwdzg.github.io 的关于与使用说明">
    <meta name="theme-color" content="#ffffff">

    <link rel="manifest" href="/manifest.json">
    <link rel="icon" href="/resource/img/shell/favicon.ico" type="image/x-icon">
    <link rel="preload" href="/resource/img/shell/favicon.ico" as="image" type="image/x-icon">
    <link rel="preload" href="/resource/img/shell/shuiyu.avif" as="image" type="image/avif">
    <link rel="preload" href="/resource/img/shell/bg/bg.jpg" as="image" type="image/jpeg">
    <link rel="preload" href="/css/variables.css" as="style">
    <link rel="preload" href="/resource/font/FluentSystemIcons-Regular.woff2" as="font" type="font/woff2" crossorigin>

    <link rel="stylesheet" href="/css/variables.css">
    <link rel="stylesheet" href="/css/input.css">
    <link rel="stylesheet" href="/css/header.css">
    <link rel="stylesheet" href="/css/sidebar.css">
    <link rel="stylesheet" href="/css/main-content.css">
    <link rel="stylesheet" href="/css/footer.css">
    <link rel="stylesheet" href="/css/lightbox.css">
    <link rel="stylesheet" href="/css/settings-modal.css">
    <link rel="stylesheet" href="/css/scroll-to-top.css">
    <link rel="stylesheet" href="/resource/font/FluentSystemIcons-Regular.css">

    <script src="/js/pwa/register-sw.js" defer></script>
    <script src="/js/i18n-loader.js" defer></script>
    <script src="/js/theme.js" defer></script>
    <script src="/js/language.js" defer></script>
    <script src="/js/sidebar.js" defer></script>
    <script src="/js/lightbox.js" defer></script>
    <script src="/js/avatar.js" defer></script>
    <script src="/js/scroll-to-top.js" defer></script>
    <script src="/js/search.js" defer></script>
    <script src="/js/spa-router.js" defer></script>
    <script src="/js/settings-modal.js" defer></script>
    <script src="/js/code.js" defer></script>

    <link rel="stylesheet" href="/css/column.css">
    </head>
<body>
     <div id="shell-root"></div>
        <script>
            (function(){
                var container = document.getElementById('shell-root');
                function normalize(pathname) {
                    var p = pathname.replace(/\/index\.html$/i, '/').replace(/\.html$/i, '').replace(/\/+$/, '');
                    return p === '' ? '/' : p;
                }
                function markCurrentNav() {
                    var current = normalize(location.pathname);
                    document.querySelectorAll('#sidebar a[href]').forEach(function(a){
                        var href = a.getAttribute('href');
                        if (!href) return;
                        var target = normalize(new URL(href, location.origin).pathname);
                        if (target === current) {
                            a.classList.add('current','selected');
                            var parent = a.closest('.has-children');
                            if (parent) {
                                parent.classList.add('open');
                                var toggle = parent.querySelector('.toggle');
                                var submenu = parent.querySelector('.submenu');
                                if (toggle) toggle.setAttribute('aria-expanded','true');
                                if (submenu) submenu.style.maxHeight = submenu.scrollHeight + 'px';
                            }
                        }
                    });
                }
                function attachShell(html) {
                    if (!container || !html) return;
                    container.innerHTML = html;
                    var move = function() {
                        var main = document.querySelector('main');
                        if (!main) return;
                        var aside = container.querySelector('aside');
                        var footer = container.querySelector('footer');
                        if (aside && !main.contains(aside)) {
                            aside.setAttribute('data-shell-moved', '1');
                            main.appendChild(aside);
                        }
                        if (footer && footer.parentNode !== main.parentNode) {
                            footer.setAttribute('data-shell-moved', '1');
                            main.insertAdjacentElement('afterend', footer);
                        }
                        if (window.refreshAsideStack) {
                            window.refreshAsideStack();
                        }
                        markCurrentNav();
                    };
                    if (document.readyState === 'loading') {
                        document.addEventListener('DOMContentLoaded', move, { once: true });
                    } else {
                        move();
                    }
                }
                function bust(url){
                    if (location.protocol === 'file:') return url;
                    var sep = url.indexOf('?') === -1 ? '?' : '&';
                    return url + sep + 'ts=' + Date.now();
                }
                try {
                    var xhr = new XMLHttpRequest();
                    xhr.open('GET', bust('/includes/shell.html'), false);
                    xhr.send(null);
                    if (xhr.status === 200 || xhr.status === 0) {
                        attachShell(xhr.responseText);
                        return;
                    }
                } catch (e) {}
                fetch(bust('/includes/shell.html'), { cache: 'no-store' })
                    .then(function(resp){ return resp.ok ? resp.text() : Promise.reject(new Error('HTTP '+resp.status)); })
                    .then(function(html){ attachShell(html); });
            })();
        </script>

        <main>
            <div class="column-stack">
                <section class="article-card">
                    <p class="eyebrow">关于</p>
                    <div style="display: flex; align-items: center; gap: 18px; margin-bottom: 1rem;">
                        <img class="about-avatar" src="/resource/img/shell/shuiyu.avif" alt="站点头像" loading="lazy" fetchpriority="high">
                        <div>
                            <span class="about-kicker">whwdzg.github.io</span>
                            <h1>关于本站</h1>
                            <p class="about-lead">个人向导览与存档站点（2.0），聚合导航、专栏、主题与多语言能力。</p>
                            <div class="link-row" aria-label="快捷入口">
                                <a href="/">返回主页</a>
                                <a href="/Legacy-1.0/">旧版存档</a>
                            </div>
                        </div>
                    </div>
                </section>
                <section class="article-card">
                    <h2>功能概览</h2>
                    <ul>
                        <li>单页导航：共享的 header/sidebar/aside 壳层与轻量路由。</li>
                        <li>多语言与主题切换：预置多语种 JSON 与深浅色模式。</li>
                        <li>渐进式增强：懒加载图片、滚动返回顶部、设置面板。</li>
                        <li>PWA：manifest、service worker 与简单离线缓存。</li>
                    </ul>
                </section>
                <section class="article-card">
                    <h2>目录速览</h2>
                    <ul>
                        <li>/css：全站样式与变量。</li>
                        <li>/js：交互脚本、i18n、PWA、辅助工具。</li>
                        <li>/includes：站点公共壳层片段。</li>
                        <li>/Legacy-1.0：旧版本备份与回顾。</li>
                    </ul>
                </section>
                <section class="article-card">
                                        <h2>本地预览</h2>
                                        <p>仓库是纯静态站点，无需构建步骤。确保已安装 Python 3 后，在项目根目录运行：</p>
                                        <div class="code-block">
                                            <button class="copy-btn" title="复制">
                                                <span class="fluent-icon icon-ic_fluent_copy_24_regular"></span>
                                            </button>
                                            <pre class="code-lines"><code class="code-line">python serve.py</code></pre>
                                        </div>
                                        <p>脚本会启动简易本地服务器，便于预览。</p>
                </section>
                <section class="article-card">
                    <h2>许可与状态</h2>
                    <div class="article-meta">
                        <span class="pill"><i class="icon-ic_fluent_shield_24_regular" aria-hidden="true"></i>GPL v3</span>
                        <span class="pill"><i class="icon-ic_fluent_cloud_24_regular" aria-hidden="true"></i>PWA</span>
                        <span class="pill"><i class="icon-ic_fluent_arrow_sync_circle_24_regular" aria-hidden="true"></i>2.0.3.2-20260217</span>
                    </div>
                    <p style="margin-top:10px;">本仓库采用 GPL v3 许可证，详见 <a href="/LICENSE">LICENSE</a>。</p>
                    <p style="margin-top:10px;">项目README中有详细的使用说明 <a href="/README.md">README</a>。</p>
                </section>
            </div>
        </main>
    <script src="/js/code.js"></script>
    </body>
    </html>
